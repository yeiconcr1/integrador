<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Integrador de Pedidos</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
  <!-- SIDEBAR -->
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <div class="logo">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="7" height="7" rx="1.5" fill="url(#g1)"/><rect x="14" y="3" width="7" height="7" rx="1.5" fill="url(#g2)" opacity="0.7"/><rect x="3" y="14" width="7" height="7" rx="1.5" fill="url(#g2)" opacity="0.7"/><rect x="14" y="14" width="7" height="7" rx="1.5" fill="url(#g1)" opacity="0.5"/><defs><linearGradient id="g1" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#4f46e5"/><stop offset="100%" stop-color="#7c3aed"/></linearGradient><linearGradient id="g2" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#06b6d4"/><stop offset="100%" stop-color="#4f46e5"/></linearGradient></defs></svg>
        <span>Integrador</span>
      </div>
      <button class="btn-new" id="btnNuevoPedido">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/></svg>
        Nuevo
      </button>
    </div>
    <div class="sidebar-search">
      <input type="text" id="searchPedidos" placeholder="Buscar pedido..." />
    </div>
    <div class="pedidos-list" id="pedidosList">
      <div class="empty-state-sidebar">
        <span>No hay pedidos</span>
      </div>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main-content">
    <!-- Top Toolbar -->
    <header class="toolbar">
      <div class="toolbar-left">
        <button class="btn-icon" id="btnToggleSidebar" title="Menú">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M3 6h18M3 12h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
        <h1 class="page-title" id="pageTitle">Nuevo Pedido</h1>
      </div>
      <div class="toolbar-right">
        <button class="btn-secondary" id="btnGuardar">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/><path d="M17 21v-8H7v8M7 3v5h8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Guardar
        </button>
        <button class="btn-primary" id="btnExportar" disabled>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Descargar Excel
        </button>
        <button class="btn-danger" id="btnEliminar" style="display:none;">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M3 6h18M8 6V4h8v2M19 6l-1 14H6L5 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Eliminar
        </button>
      </div>
    </header>

    <!-- Form: Cabecera del pedido -->
    <section class="form-cabecera glass-card">
      <div class="form-grid">
        <div class="form-group">
          <label>N° Pedido</label>
          <input type="text" id="fNumero" placeholder="Ej: 24219599" />
        </div>
        <div class="form-group">
          <label>Fecha</label>
          <input type="date" id="fFecha" />
        </div>
        <div class="form-group">
          <label>Cliente</label>
          <input type="text" id="fCliente" placeholder="Nombre del cliente" />
        </div>
        <div class="form-group">
          <label>Diseñador</label>
          <input type="text" id="fDisenador" placeholder="Nombre del diseñador" />
        </div>
        <div class="form-group">
          <label>Asesor Comercial</label>
          <input type="text" id="fAsesor" placeholder="Nombre del asesor" />
        </div>
      </div>
    </section>

    <!-- Table toolbar -->
    <div class="table-toolbar">
      <span class="table-label">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/><path d="M3 9h18M9 9v12" stroke="currentColor" stroke-width="2"/></svg>
        Items del Pedido
        <span class="badge" id="itemCount">0</span>
      </span>
      <div class="table-actions">
        <button class="btn-sm btn-ghost" id="btnAddRow">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/></svg>
          Agregar fila
        </button>
        <button class="btn-sm btn-ghost" id="btnDelLastRow">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none"><path d="M5 12h14" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/></svg>
          Quitar fila
        </button>
      </div>
    </div>

    <!-- Items Table -->
    <div class="table-wrapper">
      <table class="items-table" id="itemsTable">
        <thead>
          <tr>
            <th class="col-num">#</th>
            <th class="col-code">CÓDIGO</th>
            <th class="col-desc">DESCRIPCIÓN</th>
            <th class="col-nota">H</th>
            <th class="col-nota">L</th>
            <th class="col-nota">PROF</th>
            <th class="col-nota">NOTAS AD.</th>
            <th class="col-qty">CANT. UNIT.</th>
            <th class="col-qty">CANT. TIPOL.</th>
            <th class="col-qty col-total">CANT. TOTAL</th>
            <th class="col-finish pintura-col">PINTURA</th>
            <th class="col-finish">ACAB. ADIC.</th>
            <th class="col-finish formica-col">FÓRMICA</th>
            <th class="col-finish supercor-col">SUPERCOR / DURALAM</th>
            <th class="col-finish canto-col">CANTO</th>
            <th class="col-finish">MADECANTO</th>
            <th class="col-finish vidrio-col">VIDRIO</th>
            <th class="col-finish tela-col">TELA / FIBER</th>
            <th class="col-finish">RENDER</th>
          </tr>
        </thead>
        <tbody id="itemsBody">
          <!-- rows injected by JS -->
        </tbody>
      </table>
    </div>
  </main>

  <!-- TOAST -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- AUTOCOMPLETE DROPDOWN (shared) -->
  <div class="autocomplete-dropdown" id="autocompleteDropdown"></div>

  <!-- CONFIRM MODAL -->
  <div class="modal-overlay" id="modalOverlay" style="display:none;">
    <div class="modal glass-card">
      <h3 id="modalTitle">¿Confirmar acción?</h3>
      <p id="modalMsg"></p>
      <div class="modal-actions">
        <button class="btn-secondary" id="modalCancel">Cancelar</button>
        <button class="btn-danger" id="modalConfirm">Confirmar</button>
      </div>
    </div>
  </div>

  <script src="/js/app.js"></script>
</body>
</html>
